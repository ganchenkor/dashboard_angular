"use strict";angular.module("extendTvApp",["ngCookies","ngResource","ngSanitize","ngRoute","highcharts-ng"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]);var app=angular.module("extendTvApp");app.controller("MainCtrl",["$scope","$http","loadWidgets",function(a,b,c){var d=c.getData();d.then(function(b){a.widgets=b}),a.series=[{name:"VCR",color:"#e5e6e7",type:"column",yAxis:1,data:[78,45],tooltip:{valueSuffix:" mm"}},{name:"Impressions",color:"#097ca0",type:"spline",data:[7e4,69e3,95e3,14500,18200,21500,25200,36500,23300,18300,63900,96e3]}],a.chartConfig=angular.fromJson({chart:{zoomType:"xy"},title:{text:""},xAxis:[{categories:[1,2]}],yAxis:[{title:{text:"Impressions"}},{title:{text:"VCR",style:{color:"#DE7C34"}},labels:{format:"{value}%",style:{color:"#DE7C34"}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:"#FFFFFF"},series:a.series})}]),app.factory("loadWidgets",["$http","$q",function(a,b){var c=function(){var c=b.defer();return a({method:"GET",url:"/widgets"}).success(function(a){c.resolve(a)}),c.promise};return{getData:c}}]),app.directive("iconSvg",function(){return{restrict:"EA",scope:{},templateUrl:"/styles/icon-sprites.svg",link:function(a,b,c){a.icon_name=c.name||c.iconSvg,a.icon_name=a.icon_name.toLowerCase(),a.color=c.color||"#de7c34"}}}),app.filter("appendIconAndHash",function(){return function(a){return"#icon-"+a}});